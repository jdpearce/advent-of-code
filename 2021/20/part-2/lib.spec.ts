import { countLitPixels, enhance, parseGridAndAlgorithm } from '../part-1/lib';

describe('2021-12-20.2', () => {
  const input = `..#.#..#####.#.#.#.###.##.....###.##.#..###.####..#####..#....#..#..##..###..######.###...####..#..#####..##..#.#####...##.#.#..#.##..#.#......#.###.######.###.####...#.##.##..#..#..#####.....#.#....###..#.##......#.....#..#..#..##..#...##.######.####.####.#.#...#.......#..#.#.#...####.##.#......#..#...##.#.##..#...##.#.##..###.#......#.#.......#.#.#.####.###.##...#.....####.#..#..#.##.#....##..#.####....##...##..#...#......#.#.......#.......##..####..#...#.#.#...##..#.#..###..#####........#..####......#..#

#..#.
#....
##..#
..#..
..###
`;

  it('should be able to enhance 50 times', () => {
    let [grid, algo] = parseGridAndAlgorithm(input);
    for (let i = 0; i < 50; i++) {
      grid = enhance(grid, algo, i + 1);
    }
    expect(countLitPixels(grid)).toBe(3351);
  });
});
